{"version":3,"sources":["webpack:///src/pages/market/list/index.vue","webpack:///./src/pages/market/list/index.vue?3e19","webpack:///./src/pages/market/list/index.vue"],"names":["list","name","components","Service","service","Header","header","data","value","loading","finished","newArr","form","pageNum","pageSize","keyword","treeList","activeName","id","valIndex","className","mounted","this","$route","query","oid","sid","getTreeList","search","onClickName","onSearch","methods","selectDetail","row","me","market","then","res","code","push","key","childList","map","item","Number","children","itm","idx","concat","$notify","message","color","background","catch","title","level","flag","undefined","productCategoryId","onLoading","length","total","$message","error","finally","discountDetails","arg1","arg2","m","s1","toString","s2","split","e","replace","Math","pow","getProductDetail","$router","path","market_list","render","_vm","_h","$createElement","_c","_self","attrs","_v","directives","rawName","staticStyle","min-height","position","action","margin-bottom","padding-top","show-action","shape","placeholder","on","scopedSlots","_u","fn","staticClass","click","$event","proxy","model","callback","$$v","expression","top","width","height","left","src","__webpack_require__","alt","_l","itmn","class","_s","_e","finished-text","load","padding-bottom","border","column-num","gutter","memberDiscount","pic","offlineBuy","font-size","price","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.e16fcd7d76e45889332a.js","sourcesContent":["<template>\r\n  <div>\r\n    <Header :name=\"className ? className : '搜索列表'\"></Header>\r\n    <div style=\"background: #f6f6f6; min-height: 700px; position: relative;\" v-ban-save>\r\n      <form action=\"javascript:return true\">\r\n        <van-search\r\n          v-model=\"value\"\r\n          show-action\r\n          shape=\"round\"\r\n          style=\"margin-bottom: 10px; padding-top: 0px;\"\r\n          placeholder=\"搜索商品\"\r\n          @search=\"onSearch\">\r\n          <template #action>\r\n            <div @click=\"onSearch('')\" class=\"vsearch\">搜索</div>\r\n          </template>\r\n        </van-search>\r\n      </form>\r\n      <img style=\"position: absolute; top: 9px; width: 15px; height: 15px; left: 22px;\" :src=\"require('@/assets/image/search.png')\" alt=\"\" width=\"46px\" height=\"46px\">\r\n      <van-tabs v-model=\"activeName\" @click=\"onClickName\" v-if=\"treeList.length > 1\">\r\n        <van-tab v-for=\"item in treeList\" :name=\"item.id\" :title=\"item.name\" :key=\"item.id\">\r\n          <ul class=\"uli-class\" v-if=\"item.children && item.children.length > 0\">\r\n            <li :class=\"valIndex + '' === itmn.id + '' ? 'selectd' : ''\" @click=\"selectDetail(itmn)\" v-for=\"itmn in item.children\" :key=\"itmn.id\">{{itmn.name}}\r\n            </li>\r\n          </ul>\r\n          <van-list\r\n            v-model=\"loading\"\r\n            :finished=\"finished\"\r\n            finished-text=\"没有更多了\"\r\n            @load=\"onLoading()\">\r\n            <van-grid :border=\"false\" style=\"padding-bottom: 100px;\" :column-num=\"2\" :gutter=\"10\">\r\n              <van-grid-item v-for=\"itm in list\" :key=\"itm.id\" @click=\"getProductDetail(itm)\" style=\"width: 50%;\">\r\n                <div v-if=\"itm.memberDiscount\" class=\"allowance\">享{{discountDetails(itm.memberDiscount,10)}}折</div>\r\n                <van-image :src=\"itm.pic\"/>\r\n                <div class=\"shopMessage\">\r\n                  <div class=\"shopTitle\">{{itm.name}}</div>\r\n                  <div class=\"shopOther\">\r\n                    <div class=\"tariff\">\r\n                      <span style=\"font-size: 15px;\" v-if=\"itm.offlineBuy === 1\">线下购买</span>\r\n                      <span v-else>￥{{itm.price}}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </van-grid-item>\r\n            </van-grid>\r\n          </van-list>\r\n        </van-tab>\r\n      </van-tabs>\r\n      <van-list\r\n        v-if=\"treeList.length === 1\"\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoading()\">\r\n        <van-grid :border=\"false\" style=\"padding-bottom: 100px;\" :column-num=\"2\" :gutter=\"10\">\r\n          <van-grid-item v-for=\"itm in list\" :key=\"itm.id\" @click=\"getProductDetail(itm)\" style=\"width: 50%;\">\r\n            <div v-if=\"itm.memberDiscount\" class=\"allowance\">享{{discountDetails(itm.memberDiscount,10)}}折</div>\r\n            <van-image :src=\"itm.pic\"/>\r\n            <div class=\"shopMessage\">\r\n              <div class=\"shopTitle\">{{itm.name}}</div>\r\n              <div class=\"shopOther\">\r\n                <div class=\"tariff\">\r\n                  <span style=\"font-size: 15px;\" v-if=\"itm.offlineBuy === 1\">线下购买</span>\r\n                  <span v-else>￥{{itm.price}}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </van-grid-item>\r\n        </van-grid>\r\n      </van-list>\r\n      <Service></Service>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Service from '@/components/Layout/service/index'\r\nimport Header from '@/components/Layout/header/index'\r\nimport * as api from '@/data/api/market/index'\r\n\r\nexport default {\r\n  name: 'home',\r\n  components :{\r\n    Service,\r\n    Header\r\n  },\r\n  data () {\r\n    return {\r\n      value: '',\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      newArr:[],\r\n      form: {\r\n          pageNum: 1,\r\n          pageSize: 8,\r\n          keyword: ''\r\n        },\r\n      treeList: [],\r\n      activeName: '',\r\n      id: '',\r\n      valIndex: '',\r\n      className: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    this.activeName = this.$route.query.oid\r\n    this.valIndex = this.$route.query.sid\r\n    this.id = this.$route.query.id\r\n    this.getTreeList()\r\n    this.value = this.$route.query.search\r\n    if (this.$route.query.oid && !this.$route.query.id) {\r\n      this.onClickName(this.$route.query.oid , '全部')\r\n    } else {\r\n      this.onSearch(this.value, this.$route.query.id)\r\n    }\r\n  },\r\n  methods: {\r\n    selectDetail (row) {\r\n      this.valIndex = row.id\r\n      this.onSearch(this.form.keyword, row.id, false)\r\n    },\r\n    getTreeList () {\r\n      let me = this\r\n      api.getCategoryTreeList().then(res => {\r\n        if (res.code === 200) {\r\n            me.treeList.push({key:me.activeName, id: me.activeName, name: '全部'})\r\n            let childList = []\r\n            res.data.map(item => {\r\n              if (Number(me.activeName) === item.id) {\r\n                me.className = item.name\r\n                item.children.map((itm, idx) => {\r\n                  if (itm.id === Number(me.id)) {\r\n                    me.activeName = itm.id\r\n                  }\r\n                })\r\n                childList = item.children\r\n              }\r\n            })\r\n            me.treeList = me.treeList.concat(childList)\r\n\r\n        } else {\r\n          me.$notify({\r\n            message: res.message,\r\n            color: '#ad0000',\r\n            background: '#ffe1e1',\r\n          })\r\n        }\r\n      }).catch((res) => {\r\n        me.$notify({\r\n          message: res.message,\r\n          color: '#ad0000',\r\n          background: '#ffe1e1',\r\n        })\r\n      })\r\n    },\r\n    onClickName (name, title) {\r\n      let me = this\r\n      me.valIndex = ''\r\n      if (title === '全部') {\r\n        me.form.level = 0\r\n        this.onSearch(me.form.keyword, me.$route.query.oid, true)\r\n      } else {\r\n        me.form.level = ''\r\n        this.onSearch(me.form.keyword, name, false)\r\n      }\r\n    },\r\n    onSearch (value, id, flag) {\r\n      let me = this\r\n\r\n      me.list = []\r\n      me.newArr = []\r\n      me.loading = false\r\n      me.finished = false\r\n\r\n      me.form.pageNum = 1\r\n      me.form.keyword = (value !== undefined ? value : me.$route.query.search) || value || me.value\r\n      if (me.valIndex) {\r\n        me.form.productCategoryId = me.valIndex\r\n      } else {\r\n        if(flag) {\r\n          me.form.productCategoryId = id\r\n        } else {\r\n          me.form.productCategoryId = id || me.form.productCategoryId\r\n        }\r\n      }\r\n\r\n      api.getSearch(me.form).then(res => {\r\n        if (res.code === 200) {\r\n          me.list = res.data.list\r\n        } else {\r\n          me.$notify({\r\n            message: res.message,\r\n            color: '#ad0000',\r\n            background: '#ffe1e1',\r\n          })\r\n        }\r\n      }).catch((res) => {\r\n        me.$notify({\r\n          message: res.message,\r\n          color: '#ad0000',\r\n          background: '#ffe1e1',\r\n        })\r\n      })\r\n    },\r\n    onLoading(){\r\n      let me = this\r\n      api.getSearch(me.form).then(res => {\r\n          if (res.code === 200) {\r\n            if (res.data.list) {\r\n              me.form.pageNum++\r\n              me.newArr = me.newArr.concat(res.data.list)\r\n              me.list = me.newArr\r\n              if(me.list.length >= res.data.total){\r\n                me.loading = true\r\n                me.finished = true\r\n              }else{\r\n                me.loading = false\r\n              }\r\n            } else {\r\n              me.list = []\r\n            }\r\n          } else {\r\n            me.$message.error(res.message);\r\n          }\r\n        }).catch((res) => {\r\n          me.$message.error(res.message);\r\n        }).finally(() => {\r\n        })\r\n    },\r\n    discountDetails (arg1, arg2) {\r\n      if (arg1 && arg2) {\r\n        let m = 0,\r\n          s1 = arg1.toString(),\r\n          s2 = arg2.toString();\r\n        try {\r\n          m += s1.split('.')[1].length;\r\n        } catch (e) {}\r\n        try {\r\n          m += s2.split('.')[1].length;\r\n        } catch (e) {}\r\n        return (\r\n          (Number(s1.replace('.', '')) * Number(s2.replace('.', ''))) /\r\n          Math.pow(10, m)\r\n        )\r\n      }\r\n    },\r\n    getProductDetail (data) {\r\n      this.$router.push({\r\n        path:'/market/product',\r\n        query:{'id': data.id}\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/styles/variable.styl';\r\n.vsearch {\r\n  height: 25px;\r\n  background: #ff4c4c;\r\n  border-radius: 16px;\r\n  color: #FFFFFF;\r\n  width: 50px;\r\n  text-align: center;\r\n  position: absolute;\r\n  right: 21px;\r\n  top: 4px;\r\n  line-height: 25px;\r\n  font-size: 13px;\r\n}\r\n.uli-class {\r\n  padding: 15px 20px;\r\n  background-color: #ffffff;\r\n  margin-top: -8px;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 0px;\r\n  white-space: nowrap\r\n  overflow-x: scroll\r\n  .selectd {\r\n    background-color: red;\r\n    color: #ffffff;\r\n  }\r\n  li {\r\n    display: inline-block;\r\n    background-color: #F1F0F0;\r\n    text-align: center;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding: 0px 15px;\r\n    border-radius: 15px;\r\n    margin-right: 15px;\r\n    color: #666666;\r\n    margin-bottom: 15px;\r\n  }\r\n  li:last-child{\r\n    margin-right: 0px;\r\n  }\r\n}\r\n>>>.van-field__left-icon {\r\n  display: none!important;\r\n}\r\n>>>.van-field__control {\r\n  margin-left: 18px!important;\r\n}\r\n>>>.van-tabs__wrap {\r\n  margin-bottom: 10px;\r\n  margin-top: -10px;\r\n}\r\n>>>.van-tab--active {\r\n  span {\r\n    color: #000000!important;\r\n    font-weight: bold;\r\n  }\r\n}\r\n>>>.van-tab {\r\n  span {\r\n    color: #777777;\r\n  }\r\n} \r\n>>>.van-tabs__line {\r\n  background-color: #000000;\r\n}\r\n>>>.van-grid-item__content {\r\n  padding: 26px 8px 8px;\r\n}\r\n>>>.van-image {\r\n  height: 150px;\r\n  width: 96%;\r\n  img {\r\n    pointer-events: none;\r\n  }\r\n}\r\n.allowance {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 0px;\r\n  width: 30%;\r\n  height: 23px;\r\n  background: linear-gradient(155deg, #F48D1C 0%, #E6460C 100%);\r\n  border-radius: 0px 0px 0px 18px;\r\n  font-size: 12px;\r\n  color: #fff;\r\n  text-align: center;\r\n  line-height: 23px;\r\n  z-index: 99;\r\n}\r\n.shopMessage {\r\n  width: 100%;\r\n  height: 60px;\r\n  margin-top: 13px;\r\n  .shopTitle {\r\n    width: 100%;\r\n    height: 15px;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #222222;\r\n    line-height: 17px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .shopOther {\r\n    width: 100%;\r\n    height: 20px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 19px 5.78% 0px 0%;\r\n    font-size: 12px;\r\n    .tariff {\r\n      color: #f44;\r\n      span {\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n    .buyStatus {\r\n      margin-top: 4px;\r\n      height: 12px;\r\n      color: #888;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/market/list/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header',{attrs:{\"name\":_vm.className ? _vm.className : '搜索列表'}}),_vm._v(\" \"),_c('div',{directives:[{name:\"ban-save\",rawName:\"v-ban-save\"}],staticStyle:{\"background\":\"#f6f6f6\",\"min-height\":\"700px\",\"position\":\"relative\"}},[_c('form',{attrs:{\"action\":\"javascript:return true\"}},[_c('van-search',{staticStyle:{\"margin-bottom\":\"10px\",\"padding-top\":\"0px\"},attrs:{\"show-action\":\"\",\"shape\":\"round\",\"placeholder\":\"搜索商品\"},on:{\"search\":_vm.onSearch},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('div',{staticClass:\"vsearch\",on:{\"click\":function($event){return _vm.onSearch('')}}},[_vm._v(\"搜索\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_vm._v(\" \"),_c('img',{staticStyle:{\"position\":\"absolute\",\"top\":\"9px\",\"width\":\"15px\",\"height\":\"15px\",\"left\":\"22px\"},attrs:{\"src\":require('@/assets/image/search.png'),\"alt\":\"\",\"width\":\"46px\",\"height\":\"46px\"}}),_vm._v(\" \"),(_vm.treeList.length > 1)?_c('van-tabs',{on:{\"click\":_vm.onClickName},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.treeList),function(item){return _c('van-tab',{key:item.id,attrs:{\"name\":item.id,\"title\":item.name}},[(item.children && item.children.length > 0)?_c('ul',{staticClass:\"uli-class\"},_vm._l((item.children),function(itmn){return _c('li',{key:itmn.id,class:_vm.valIndex + '' === itmn.id + '' ? 'selectd' : '',on:{\"click\":function($event){return _vm.selectDetail(itmn)}}},[_vm._v(_vm._s(itmn.name)+\"\\n          \")])}),0):_vm._e(),_vm._v(\" \"),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":function($event){return _vm.onLoading()}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-grid',{staticStyle:{\"padding-bottom\":\"100px\"},attrs:{\"border\":false,\"column-num\":2,\"gutter\":10}},_vm._l((_vm.list),function(itm){return _c('van-grid-item',{key:itm.id,staticStyle:{\"width\":\"50%\"},on:{\"click\":function($event){return _vm.getProductDetail(itm)}}},[(itm.memberDiscount)?_c('div',{staticClass:\"allowance\"},[_vm._v(\"享\"+_vm._s(_vm.discountDetails(itm.memberDiscount,10))+\"折\")]):_vm._e(),_vm._v(\" \"),_c('van-image',{attrs:{\"src\":itm.pic}}),_vm._v(\" \"),_c('div',{staticClass:\"shopMessage\"},[_c('div',{staticClass:\"shopTitle\"},[_vm._v(_vm._s(itm.name))]),_vm._v(\" \"),_c('div',{staticClass:\"shopOther\"},[_c('div',{staticClass:\"tariff\"},[(itm.offlineBuy === 1)?_c('span',{staticStyle:{\"font-size\":\"15px\"}},[_vm._v(\"线下购买\")]):_c('span',[_vm._v(\"￥\"+_vm._s(itm.price))])])])])],1)}),1)],1)],1)}),1):_vm._e(),_vm._v(\" \"),(_vm.treeList.length === 1)?_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":function($event){return _vm.onLoading()}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-grid',{staticStyle:{\"padding-bottom\":\"100px\"},attrs:{\"border\":false,\"column-num\":2,\"gutter\":10}},_vm._l((_vm.list),function(itm){return _c('van-grid-item',{key:itm.id,staticStyle:{\"width\":\"50%\"},on:{\"click\":function($event){return _vm.getProductDetail(itm)}}},[(itm.memberDiscount)?_c('div',{staticClass:\"allowance\"},[_vm._v(\"享\"+_vm._s(_vm.discountDetails(itm.memberDiscount,10))+\"折\")]):_vm._e(),_vm._v(\" \"),_c('van-image',{attrs:{\"src\":itm.pic}}),_vm._v(\" \"),_c('div',{staticClass:\"shopMessage\"},[_c('div',{staticClass:\"shopTitle\"},[_vm._v(_vm._s(itm.name))]),_vm._v(\" \"),_c('div',{staticClass:\"shopOther\"},[_c('div',{staticClass:\"tariff\"},[(itm.offlineBuy === 1)?_c('span',{staticStyle:{\"font-size\":\"15px\"}},[_vm._v(\"线下购买\")]):_c('span',[_vm._v(\"￥\"+_vm._s(itm.price))])])])])],1)}),1)],1):_vm._e(),_vm._v(\" \"),_c('Service')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51db44ac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/market/list/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51db44ac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51db44ac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51db44ac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/market/list/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}