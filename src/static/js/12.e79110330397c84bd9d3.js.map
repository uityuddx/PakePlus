{"version":3,"sources":["webpack:///./src/assets/image/wxzfl.png","webpack:///src/pages/market/classify/index.vue","webpack:///./src/pages/market/classify/index.vue?16c7","webpack:///./src/pages/market/classify/index.vue"],"names":["module","exports","classify","name","components","Service","service","Header","header","data","value","active","items","lists","nameList","wxUrl","watch","mounted","this","getTreeList","methods","lookMoreProduct","oid","id","$router","push","path","query","toPages","localStorage","getItem","userAgent","navigator","isWeixin","test","window","location","href","stringify_default","url","setItem","_userAgent","me","market","then","res","code","dataTree","getItems","$notify","message","color","background","catch","length","filter","item","index","text","Number","$route","undefined","children","map","itm","getTreeDetail","names","list","bname","pageNum","pageSize","productCategoryId","goShop","getProductDetail","sid","getProductDetailById","onSearch","search","market_classify","render","_vm","_h","$createElement","_c","_self","staticStyle","attrs","_v","action","margin-bottom","padding-top","show-action","shape","placeholder","on","scopedSlots","_u","key","fn","staticClass","click","$event","proxy","model","callback","$$v","expression","position","top","width","height","left","src","__webpack_require__","alt","padding-bottom","main-active-index","update:mainActiveIndex","update:main-active-index","_l","nl","margin-top","_s","display","right","border","column-num","gutter","pic","margin","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.e79110330397c84bd9d3.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAplJREFUWEftmD9oU0Ecxz+/l5IaFUTqoqKguIhIcelQEIdiBtMXugQHlw4uIg4ODqK46CQOIi5FHBwEsYNp3gUhOLi4CSIiFESKVJxURDS1oc1P7iVVXxvz8ucCHd5NgVw+73O/u3t33wgtmubze6jXzwA54BCwC5GvqC4ATxF5KEFgP3fc+mXKv0/SQiFNtXoNkYvA1jYWNURmWF6+LJXKz3a2rph/RHViYoRM5glwvOMywWtqNV8qlcWWM+OQGYqGo15aetal5JrbGzKZcZmd/bFhdhwyG6K53A1ErnRRyWhX1ftSLp+NiDpmSnORv4tZk3FjWEVkVILgbTjwxmZ0yhSdnLwE3Iwzif1e5JYEgWUxCKYVfQ6ciBWJ7zAvxhxuijpnWtGPwN54j9geNYzZIqCDYFrRX8BwrEYnHYaGdkqx+G0QTFHf/4Tq7k48YvqsYMywQH0QTFvRF8C4A9H3Yow9bu1mcs60oleB6w5E74oxF5qizpl26g+gOg+k+5BVPG9MSqWXoegAmI2TyffvoBpWo6cm8liC4HTkZHLMbIhms9tIp+26Gu1BdAGRMQmCzxFRx8y/t6dsdh/pdBk42oWslTwlQWCXzoamDpnr76PbqVZvIzINpNoIKyKzwPn1lVz/Gy0UnDAjomsPUd8/AkzbMwY42NxoK8CH8IbveQ/WNk6n1e+X2VI0stZAmJraQbH43b7MOxVr1097YMaKuhBzwWg99Um46z0wJuHOdWBMwl0S7hy865JwZwNjEu5cB8Yk3LkOjEm4cx0YN2u4U1KprMzN2T+Xw7YZw502vb7geSelVHoVEQ1js6MgFoky3TI97x6rq4+AEWBRjNm/QXSzhDvN549Rr88BZTHm3H9Fk3DXx83nN/JxS0l8uiTEAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/image/wxzfl.png\n// module id = 31Rh\n// module chunks = 12","<template>\r\n  <div style=\"background: #f6f6f6;\">\r\n    <Header name=\"分类\"></Header>\r\n    <form action=\"javascript:return true\">\r\n      <van-search\r\n        v-model=\"value\"\r\n        show-action\r\n        shape=\"round\"\r\n        style=\"margin-bottom: 10px; padding-top: 0px;\"\r\n        placeholder=\"搜索商品\"\r\n        @search=\"onSearch\">\r\n        <template #action>\r\n          <div @click=\"onSearch('')\" class=\"vsearch\">搜索</div>\r\n        </template>\r\n      </van-search>\r\n    </form>\r\n    <img style=\"position: absolute; top: 53px; width: 15px; height: 15px; left: 22px;\" :src=\"require('@/assets/image/search.png')\" alt=\"\" width=\"46px\" height=\"46px\">\r\n    <van-tree-select :items=\"items\" style=\"padding-bottom: 60px;\" height=\"100%\" :main-active-index.sync=\"active\">\r\n      <template #content>\r\n        <div v-for=\"nl in nameList\" :key=\"nl\">\r\n          <div class=\"context-by\" v-for=\"item in lists\" :key=\"item.name\">\r\n            <div v-if=\"nl === item.name || (item.name === '其他' && item.names === nl)\" style=\"margin-top: 15px;\">\r\n              <div class=\"card-by\">\r\n                {{item.name}}\r\n                <div @click=\"lookMoreProduct(items[active].id, item.id)\" style=\"display: inline-block; position: absolute; right: 20px; color: #979797;\">\r\n                  更多&nbsp;<nobr style=\"position: relative; top: -1px;\">></nobr>\r\n                </div>\r\n              </div>\r\n              <van-grid :border=\"false\" :column-num=\"3\" :gutter=\"5\" v-if=\"item.list.length >0\">\r\n                <van-grid-item v-for=\"itm in item.list\" :key=\"itm.id\">\r\n                  <!-- <van-image :src=\"itm.icon\" @click=\"getProductDetail(items[active].id, item.id, itm)\"/>\r\n                  <div class=\"title\" @click=\"getProductDetail(items[active].id, item.id, itm)\">{{itm.name}}</div> -->\r\n                  <van-image :src=\"itm.pic\" @click=\"getProductDetailById(itm)\"/>\r\n                  <div class=\"title\" @click=\"getProductDetailById(itm)\">{{itm.name}}</div>\r\n                </van-grid-item>\r\n              </van-grid>\r\n              <van-grid v-else>\r\n                  <img :src=\"require('@/assets/image/empty.png')\" alt=\"\" style=\"margin:39px auto 82px\" width=\"78px\" height=\"58px\">\r\n                  <div class=\"emptyFont\">该类目暂无商品敬请期待</div>\r\n                  <!-- <div class=\"emptyFont\">该类目暂无下级分类敬请期待</div> -->\r\n              </van-grid>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </van-tree-select>\r\n    <div class=\"footer\">\r\n      <div class=\"firstPage\" @click=\"toPages('0')\">\r\n        <img :src=\"require('@/assets/image/xzsy_gray.png')\" alt=\"\" />\r\n        <p>首页</p>\r\n      </div>\r\n      <div class=\"sort\" @click=\"toPages('1')\">\r\n        <img :src=\"require('@/assets/image/wxzfl.png')\" alt=\"\" />\r\n        <p class=\"ptitle\">分类</p>\r\n      </div>\r\n      <div class=\"shopCart\" @click=\"toPages('2')\">\r\n        <img :src=\"require('@/assets/image/wxzgwc_gray.png')\" alt=\"\" />\r\n        <p>购物车</p>\r\n      </div>\r\n      <div class=\"myMessage\" @click=\"toPages('3')\">\r\n        <img :src=\"require('@/assets/image/wxzmy_gray.png')\" alt=\"\" />\r\n        <p>我的</p>\r\n      </div>\r\n    </div>\r\n    <Service></Service>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Service from '@/components/Layout/service/index'\r\nimport Header from '@/components/Layout/header/index'\r\nimport * as api from '@/data/api/market/index'\r\n\r\nexport default {\r\n  name: 'home',\r\n  components :{\r\n    Service,\r\n    Header\r\n  },\r\n  data () {\r\n    return {\r\n      value: '',\r\n      active: '',\r\n      items: [],\r\n      lists: [],\r\n      nameList: [],\r\n      wxUrl: process.env.wxUrl\r\n    }\r\n  },\r\n  watch: {\r\n    active: 'getItems'\r\n  },\r\n  mounted () {\r\n    this.getTreeList()\r\n  },\r\n  methods: {\r\n    lookMoreProduct (oid, id) {\r\n      this.$router.push({\r\n        path:'/market/list',\r\n        query:{\r\n          'oid': oid,\r\n          'id': id\r\n        }\r\n      })\r\n    },\r\n    toPages (value) {\r\n      if (value === '0') {\r\n        this.$router.push({\r\n          path:'/market/home'\r\n        })\r\n      } else if (value === '1') {\r\n        this.$router.push({\r\n          path:'/market/classify'\r\n        })\r\n      } else if (value === '2') {\r\n        if (localStorage.getItem('token')) {\r\n          this.$router.push({\r\n            path:'/market/cart'\r\n          })\r\n        } else {\r\n          const { userAgent } = navigator\r\n          this.isWeixin = !!/MicroMessenger/i.test(userAgent)\r\n          // !localStorage.getItem('token') && \r\n          if (this.isWeixin) {\r\n            let st = {\r\n              name: 'home',\r\n              url: '/market/cart'\r\n            }\r\n            window.location.href=\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx372e6d05b22ce032&redirect_uri=\" + this.wxUrl + \"&response_type=code&scope=snsapi_base&state=\" + JSON.stringify(st) + \"#wechat_redirect\"\r\n          } else {\r\n            localStorage.setItem('urlPath','/market/cart')\r\n            this.$router.push({\r\n              path:'/user/login'\r\n            })\r\n          }\r\n        }\r\n      } else if (value === '3') {\r\n        if (localStorage.getItem('token')) {\r\n          this.$router.push({\r\n            path:'/user/home'\r\n          })\r\n        } else {\r\n          const { userAgent } = navigator\r\n          this.isWeixin = !!/MicroMessenger/i.test(userAgent)\r\n          // !localStorage.getItem('token') && \r\n          if (this.isWeixin) {\r\n            let st = {\r\n              name: 'home',\r\n              url: '/user/home'\r\n            }\r\n            window.location.href=\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx372e6d05b22ce032&redirect_uri=\" + this.wxUrl + \"&response_type=code&scope=snsapi_base&state=\" + JSON.stringify(st) + \"#wechat_redirect\"\r\n          } else {\r\n            localStorage.setItem('urlPath','/user/home')\r\n            this.$router.push({\r\n              path:'/user/login'\r\n            })\r\n          }\r\n        }\r\n      }\r\n    },\r\n    getTreeList () {\r\n      let me = this\r\n      api.getCategoryTreeList().then(res => {\r\n        if (res.code === 200) {\r\n          me.dataTree = res.data\r\n          me.getItems('')\r\n        } else {\r\n          me.$notify({\r\n            message: res.message,\r\n            color: '#ad0000',\r\n            background: '#ffe1e1',\r\n          })\r\n        }\r\n      }).catch((res) => {\r\n        me.$notify({\r\n          message: res.message,\r\n          color: '#ad0000',\r\n          background: '#ffe1e1',\r\n        })\r\n      })\r\n    },\r\n    getItems (active) {\r\n      let me = this\r\n      if (me.dataTree && me.dataTree.length > 0) {\r\n        me.items = []\r\n        me.lists = []\r\n        me.nameList = []\r\n        me.dataTree.filter((item, index) => {\r\n          me.items.push({\"text\" : item.name, id: item.id})\r\n\r\n          if (Number(me.$route.query.id) === item.id && active === '') {\r\n            me.active = index\r\n          }\r\n          if ((me.$route.query.id === '' || me.$route.query.id === undefined) && active === '') {\r\n            me.active = 0\r\n          }\r\n\r\n          if (index === active) {\r\n            if (item.children && item.children.length > 0) {\r\n              item.children.map(itm => {\r\n                me.nameList.push(itm.name)                \r\n                // me.lists.push({'name': itm.name, 'id': itm.id, 'names': item.name, 'list': itm.children})\r\n                me.getTreeDetail(itm.name, itm.id, item.name, itm.children)\r\n              })\r\n            } else {\r\n              me.nameList.push('其他')\r\n              me.lists.push({'name': '其他', 'id': item.id, 'names': item.name, 'list': []})\r\n              // me.getTreeDetail('其他', item.id, item.name, itm.children)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    getTreeDetail (name, id, bname, children) {\r\n      let me = this\r\n      api.getSearch({\r\n        pageNum: 1,\r\n        pageSize: 3,\r\n        productCategoryId: id\r\n        // recommandStatus: 1\r\n      }).then(res => {\r\n        if (res.code === 200) {\r\n          me.lists.push({'name': name, 'id': id, 'names': bname, 'list': res.data.list})\r\n        } else {\r\n          me.$notify({\r\n            message: res.message,\r\n            color: '#ad0000',\r\n            background: '#ffe1e1',\r\n          })\r\n        }\r\n      }).catch((res) => {\r\n        me.$notify({\r\n          message: res.message,\r\n          color: '#ad0000',\r\n          background: '#ffe1e1',\r\n        })\r\n      })\r\n    },\r\n    goShop(){\r\n      this.$router.push({\r\n        path:'/market/product'\r\n      })\r\n    },\r\n    getProductDetail (oid, id, data) {\r\n      this.$router.push({\r\n        path:'/market/list',\r\n        query:{\r\n          'oid': oid,\r\n          'id': id,\r\n          'sid': data.id\r\n        }\r\n      })\r\n    },\r\n    getProductDetailById (data) {\r\n      this.$router.push({\r\n        path:'/market/product',\r\n        query:{'id': data.id}\r\n      })\r\n    },\r\n    onSearch (value) {\r\n      let me = this\r\n      me.$router.push({\r\n        path:'/market/list',\r\n        query:{'search': value || me.value}\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/styles/variable.styl';\r\n.vsearch {\r\n  height: 25px;\r\n  background: #ff4c4c;\r\n  border-radius: 16px;\r\n  color: #FFFFFF;\r\n  width: 50px;\r\n  text-align: center;\r\n  position: absolute;\r\n  right: 21px;\r\n  top: 49px;\r\n  line-height: 25px;\r\n  font-size: 13px;\r\n}\r\n>>>.van-field__left-icon {\r\n  display: none!important;\r\n}\r\n>>>.van-field__control {\r\n  margin-left: 18px!important;\r\n}\r\n>>>.van-tree-select__content {\r\n  margin: 0px 10px;\r\n  margin-bottom: 25px;\r\n  background-color: #f6f6f6;\r\n}\r\n>>>.van-tree-select__content>div:first-child {\r\n  margin-top: -15px;\r\n}\r\n>>>.van-search__content {\r\n  background-color: #f6f6f6;\r\n}\r\n>>>.van-tree-select__nav {\r\n  background-color: #f6f6f6;\r\n}\r\n>>>.van-grid-item__content {\r\n  padding: 0px;\r\n}\r\n>>>.van-grid-item {\r\n  padding: 0px 5px;\r\n}\r\n>>>.van-image {\r\n  width: 55px;\r\n  height: 55px;\r\n  img {\r\n    pointer-events: none;\r\n  }\r\n}\r\n.emptyFont{\r\n  text-align: center\r\n  color:#777;\r\n  width:98px;\r\n  height:36px;\r\n  position:absolute;\r\n  left: calc(50% - 49px)\r\n  bottom 39px\r\n  line-height: 18px\r\n}\r\n.title {\r\n  text-align: center;\r\n  color: #303030;\r\n  margin: 10px 0px;\r\n  width: 4rem;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n.context-by {\r\n  background-color: #FFFFFF;\r\n  border-radius: 10px;\r\n  margin-bottom: 15px;\r\n}\r\n.card-by {\r\n  padding: 15px 10px;\r\n  color: #303030;\r\n  font-weight: bold;\r\n}\r\n.footer {\r\n  position fixed\r\n  bottom 0px\r\n  width: 100%;\r\n  height: 49px;\r\n  background: #fff;\r\n  box-shadow: 0px 0px 7px 0px rgba(0, 0, 0, 0.05);\r\n  display flex;\r\n  z-index: 999;\r\n  justify-content space-around\r\n  .firstPage,.sort,.shopCart,.myMessage {\r\n    font-size 10px\r\n    width: 44px;\r\n    height: 37px; \r\n    margin 6px 0px\r\n    text-align center\r\n  }\r\n  img{\r\n    width 20px;\r\n    height 20px\r\n  }\r\n  .ptitle {\r\n    color: #FF4C4C;\r\n  }\r\n  p{\r\n    color #444\r\n    margin-top 4px\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/market/classify/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background\":\"#f6f6f6\"}},[_c('Header',{attrs:{\"name\":\"分类\"}}),_vm._v(\" \"),_c('form',{attrs:{\"action\":\"javascript:return true\"}},[_c('van-search',{staticStyle:{\"margin-bottom\":\"10px\",\"padding-top\":\"0px\"},attrs:{\"show-action\":\"\",\"shape\":\"round\",\"placeholder\":\"搜索商品\"},on:{\"search\":_vm.onSearch},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('div',{staticClass:\"vsearch\",on:{\"click\":function($event){return _vm.onSearch('')}}},[_vm._v(\"搜索\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_vm._v(\" \"),_c('img',{staticStyle:{\"position\":\"absolute\",\"top\":\"53px\",\"width\":\"15px\",\"height\":\"15px\",\"left\":\"22px\"},attrs:{\"src\":require('@/assets/image/search.png'),\"alt\":\"\",\"width\":\"46px\",\"height\":\"46px\"}}),_vm._v(\" \"),_c('van-tree-select',{staticStyle:{\"padding-bottom\":\"60px\"},attrs:{\"items\":_vm.items,\"height\":\"100%\",\"main-active-index\":_vm.active},on:{\"update:mainActiveIndex\":function($event){_vm.active=$event},\"update:main-active-index\":function($event){_vm.active=$event}},scopedSlots:_vm._u([{key:\"content\",fn:function(){return _vm._l((_vm.nameList),function(nl){return _c('div',{key:nl},_vm._l((_vm.lists),function(item){return _c('div',{key:item.name,staticClass:\"context-by\"},[(nl === item.name || (item.name === '其他' && item.names === nl))?_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('div',{staticClass:\"card-by\"},[_vm._v(\"\\n              \"+_vm._s(item.name)+\"\\n              \"),_c('div',{staticStyle:{\"display\":\"inline-block\",\"position\":\"absolute\",\"right\":\"20px\",\"color\":\"#979797\"},on:{\"click\":function($event){return _vm.lookMoreProduct(_vm.items[_vm.active].id, item.id)}}},[_vm._v(\"\\n                更多 \"),_c('nobr',{staticStyle:{\"position\":\"relative\",\"top\":\"-1px\"}},[_vm._v(\">\")])],1)]),_vm._v(\" \"),(item.list.length >0)?_c('van-grid',{attrs:{\"border\":false,\"column-num\":3,\"gutter\":5}},_vm._l((item.list),function(itm){return _c('van-grid-item',{key:itm.id},[_c('van-image',{attrs:{\"src\":itm.pic},on:{\"click\":function($event){return _vm.getProductDetailById(itm)}}}),_vm._v(\" \"),_c('div',{staticClass:\"title\",on:{\"click\":function($event){return _vm.getProductDetailById(itm)}}},[_vm._v(_vm._s(itm.name))])],1)}),1):_c('van-grid',[_c('img',{staticStyle:{\"margin\":\"39px auto 82px\"},attrs:{\"src\":require('@/assets/image/empty.png'),\"alt\":\"\",\"width\":\"78px\",\"height\":\"58px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"emptyFont\"},[_vm._v(\"该类目暂无商品敬请期待\")])])],1):_vm._e()])}),0)})},proxy:true}])}),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"firstPage\",on:{\"click\":function($event){return _vm.toPages('0')}}},[_c('img',{attrs:{\"src\":require('@/assets/image/xzsy_gray.png'),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"首页\")])]),_vm._v(\" \"),_c('div',{staticClass:\"sort\",on:{\"click\":function($event){return _vm.toPages('1')}}},[_c('img',{attrs:{\"src\":require('@/assets/image/wxzfl.png'),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"ptitle\"},[_vm._v(\"分类\")])]),_vm._v(\" \"),_c('div',{staticClass:\"shopCart\",on:{\"click\":function($event){return _vm.toPages('2')}}},[_c('img',{attrs:{\"src\":require('@/assets/image/wxzgwc_gray.png'),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"购物车\")])]),_vm._v(\" \"),_c('div',{staticClass:\"myMessage\",on:{\"click\":function($event){return _vm.toPages('3')}}},[_c('img',{attrs:{\"src\":require('@/assets/image/wxzmy_gray.png'),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"我的\")])])]),_vm._v(\" \"),_c('Service')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64321901\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/market/classify/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64321901\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64321901\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-64321901\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/market/classify/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}