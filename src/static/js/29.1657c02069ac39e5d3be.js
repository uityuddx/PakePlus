webpackJsonp([29],{EeiA:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t("tOjG"),n=t("g3tQ"),a={name:"home",components:{Header:t("9bgf").a},data:function(){return{checked:!1,showArea:!1,areaList:r.areaList,form:{id:"",name:"",phoneNumber:"",value:"",detailAddress:"",memberId:"",defaultStatus:0,optionPhone:"",postCode:"",province:"",provinceId:"",city:"",cityId:"",region:"",regionId:"",town:"",townId:"",createTime:"",updateTime:""}}},mounted:function(){this.show()},methods:{show:function(){var e=JSON.parse(this.$route.query.item);e.id&&(this.form.id=e.id,this.form.name=e.name,this.form.phoneNumber=e.phoneNumber,this.form.value=e.province+"/"+("市辖区"===e.city?e.province:e.city)+"/"+e.region,this.form.detailAddress=e.detailAddress,this.form.memberId="",this.checked=!!e.defaultStatus,this.form.defaultStatus=e.defaultStatus,this.form.optionPhone=e.optionPhone,this.form.createTime=e.createTime,this.form.updateTime=e.updateTime,this.form.province=e.province,this.form.provinceId=e.provinceId,this.form.city=e.city,this.form.cityId=e.cityId,this.form.region=e.region,this.form.regionId=e.regionId,this.form.town=e.town||"",this.form.townId=e.townId||"")},onSubmit:function(){var e=this;e.form.defaultStatus=e.checked?1:0,e.form.id?n.d(e.form).then(function(o){200===o.code?e.$router.push({path:"/user/address/index"}):e.$notify({message:o.message,color:"#ad0000",background:"#ffe1e1"})}).catch(function(o){e.$notify({message:o.message,color:"#ad0000",background:"#ffe1e1"})}).finally(function(){}):n.a(e.form).then(function(o){200===o.code?e.$router.push({path:"/user/address/index"}):e.$notify({message:o.message,color:"#ad0000",background:"#ffe1e1"})}).catch(function(o){e.$notify({me:o.message,color:"#ad0000",background:"#ffe1e1"})}).finally(function(){})},onConfirm:function(e){this.form.value=e.filter(function(e){return!!e}).map(function(e){return e.name}).join("/");var o=this;e.map(function(t){o.form.province=e[0].name,o.form.provinceId=e[0].code.substring(0,2),o.form.city="天津市"===e[1].name||"北京市"===e[1].name||"上海市"===e[1].name?"市辖区":e[1].name,o.form.cityId=e[1].code.substring(0,4),o.form.region=e[2].name,o.form.regionId=e[2].code}),this.showArea=!1}}},i={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("Header",{attrs:{name:e.form.id?"编辑地址":"新增地址"}}),e._v(" "),t("div",{staticClass:"modify-content"},[t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"收货人",label:"收货人",placeholder:"请填写收货人姓名",rules:[{required:!0,message:"请填写收货人"}]},model:{value:e.form.name,callback:function(o){e.$set(e.form,"name",o)},expression:"form.name"}}),e._v(" "),t("van-field",{attrs:{name:"手机号码",label:"手机号码",placeholder:"请填写收货人手机号码",rules:[{required:!0,message:"请填写手机号码"}]},model:{value:e.form.phoneNumber,callback:function(o){e.$set(e.form,"phoneNumber",o)},expression:"form.phoneNumber"}}),e._v(" "),t("van-field",{attrs:{readonly:"",clickable:"",name:"所在地区",value:e.form.value,label:"所在地区",placeholder:"省市区县、乡镇等",rules:[{required:!0,message:"请填写所在地区"}]},on:{click:function(o){e.showArea=!0}}}),e._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:e.showArea,callback:function(o){e.showArea=o},expression:"showArea"}},[t("van-area",{attrs:{"area-list":e.areaList},on:{confirm:e.onConfirm,cancel:function(o){e.showArea=!1}}})],1),e._v(" "),t("van-field",{attrs:{name:"详细地址",label:"详细地址",rows:"4",type:"textarea",placeholder:"街道、楼牌号",rules:[{required:!0,message:"请填写详细地址"}]},model:{value:e.form.detailAddress,callback:function(o){e.$set(e.form,"detailAddress",o)},expression:"form.detailAddress"}}),e._v(" "),t("div",[t("dl",{staticClass:"df"},[t("dt",[e._v("设置默认地址")]),e._v(" "),t("dd",[e._v("提醒：每次下单会默认推荐使用该地址")]),e._v(" "),t("div",{staticClass:"top"},[t("van-switch",{model:{value:e.checked,callback:function(o){e.checked=o},expression:"checked"}})],1)])]),e._v(" "),t("div",{staticStyle:{margin:"40px 0px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(e._s(e.form.id?"确认":"保存并使用"))])],1)],1)],1)],1)},staticRenderFns:[]};var s=t("VU/8")(a,i,!1,function(e){t("UAkg")},"data-v-25027e59",null);o.default=s.exports},UAkg:function(e,o){}});
//# sourceMappingURL=29.1657c02069ac39e5d3be.js.map