webpackJsonp([18],{ZscI:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("g3tQ"),i={components:{Header:s("9bgf").a},data:function(){return{active:"1",isOk:!1,data:[],form:{pageNum:1,pageSize:100}}},mounted:function(){this.showOrder("1")},methods:{toKefu:function(){window.location.href="https://work.weixin.qq.com/kfid/kfcd64beafe27d5326e"},showOrder:function(t){var e=this;e.data=[],e.isOk=!1,"1"===t?a.W(e.form).then(function(t){200===t.code?t.data.list?(t.data.list.forEach(function(t){var e=[],s=0,a=[];t.returnApplyList.forEach(function(t){1===t.type&&a.push(t)}),a.forEach(function(t,e,s){s.length>1&&t.status>=3&&s.splice(e,1)}),t.returnApplyList=a,t.returnApplyList.forEach(function(a){t.orderItemList.forEach(function(t){a.orderItemId?t.id===a.orderItemId&&1===a.type&&(s+=a.returnAmount,e.push(t)):(s+=a.returnAmount,e.push(t))})}),t.orderItemList=e,t.totalAmount=s}),e.data=t.data.list):(e.data=[],e.isOk=!0):e.$message.error(t.message)}).catch(function(t){e.$message.error(t.message)}).finally(function(){}):"2"===t?a.K(e.form).then(function(t){200===t.code?t.data.list?(t.data.list.forEach(function(t){var e=[],s=0,a=[];t.returnApplyList.forEach(function(t){2===t.type&&a.push(t)}),a.forEach(function(t,e,s){s.length>1&&t.status>=3&&s.splice(e,1)}),t.returnApplyList=a,t.returnApplyList.forEach(function(a){t.orderItemList.forEach(function(t){a.orderItemId?t.id===a.orderItemId&&2===a.type&&(s+=a.returnAmount,e.push(t)):(s=a.returnAmount,e.push(t))})}),t.orderItemList=e,t.totalAmount=s}),e.data=t.data.list):(e.data=[],e.isOk=!0):e.$message.error(t.message)}).catch(function(t){e.$message.error(t.message)}).finally(function(){}):a.J(e.form).then(function(t){200===t.code?t.data.list?(t.data.list.forEach(function(t){var e=[],s=[];t.returnApplyList.forEach(function(t){3===t.type&&s.push(t)}),s.forEach(function(t,e,s){s.length>1&&t.status>=3&&s.splice(e,1)}),t.returnApplyList=s,t.returnApplyList.forEach(function(s){t.orderItemList.forEach(function(t){s.orderItemId?t.id===s.orderItemId&&3===s.type&&e.push(t):e.push(t)})}),t.orderItemList=e}),e.data=t.data.list):(e.data=[],e.isOk=!0):e.$message.error(t.message)}).catch(function(t){e.$message.error(t.message)}).finally(function(){})},lookOver:function(t,e,s,a){var i=this;s.forEach(function(s){3!==s.status&&(1===s.type?i.$router.push({path:"/user/returnGoods",query:{orderSn:t,id:a,ffid:e,type:s.type}}):2===s.type?i.$router.push({path:"/user/returnRefund",query:{orderSn:t,id:a,ffid:e,type:s.type}}):3===s.type&&i.$router.push({path:"/user/returnExchange",query:{orderSn:t,id:e}}))})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{name:"我的售后"}}),t._v(" "),a("div",{staticStyle:{background:"#f7f7f7"},style:{"min-height":(t.data&&t.data.length,"750px")}},[a("van-tabs",{on:{click:function(e){return t.showOrder(t.active)}},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:"退货",name:"1"}},[t.data&&t.data.length>0?a("div",{staticStyle:{"margin-top":"10px"}},[t._l(t.data,function(e){return a("div",{key:e.id,staticClass:"orderBody"},[a("div",{staticClass:"orderTop"},[a("p",[t._v("\n            订单号："),a("span",[t._v(t._s(e.orderSn))])]),t._v(" "),a("p",[t._v(t._s(e.createTime))])]),t._v(" "),t._l(e.orderItemList,function(s){return a("div",{key:s.id,staticClass:"orderCenter"},[a("div",{staticClass:"orderimg"},[a("van-image",{attrs:{src:s.productPic?s.productPic:""}})],1),t._v(" "),a("div",{staticClass:"orderfont"},[a("div",{staticClass:"ttop"},[t._v("\n              "+t._s(s.productName)+"\n            ")]),t._v(" "),s.productAttr?a("div",{staticClass:"shopSpecs"},t._l(JSON.parse(s.productAttr||"[]"),function(e,s){return a("div",{key:s},[t._v(t._s(e.value))])}),0):t._e(),t._v(" "),a("div",{staticClass:"bbottom"},[5===e.payType?a("div",{staticClass:"left"},[a("span",[t._v(t._s(s.productPrice)),a("span",{staticStyle:{"font-size":"14px",margin:"0"}},[t._v("积分")])]),t._v("x"+t._s(s.productQuantity)+"\n              ")]):a("div",{staticClass:"left"},[a("span",[t._v("￥"+t._s(s.productPrice))]),t._v("x"+t._s(s.productQuantity)+"\n              ")]),t._v(" "),a("div",{on:{click:function(a){return t.lookOver(e.orderSn,s.id,e.returnApplyList,s.orderId)}}},[t._v("查看详情")])])])])}),t._v(" "),a("div",{staticClass:"orderBottom"},[a("div",{staticClass:"money"},[a("span",[t._v("退款金额￥"+t._s(e.totalAmount))])]),t._v(" "),a("div",{staticClass:"btn"})])],2)}),t._v(" "),a("div",{staticStyle:{height:"10px"}})],2):t._e(),t._v(" "),t.isOk?a("div",[a("van-empty",{staticClass:"custom-image",attrs:{image:"https://img01.yzcdn.cn/vant/custom-empty-image.png",description:"暂无数据"}})],1):t._e(),t._v(" "),t.isOk||0!==t.data.length?t._e():a("van-loading",{attrs:{size:"24px",vertical:"",type:"spinner"}},[t._v("加载中...")])],1),t._v(" "),a("van-tab",{attrs:{title:"退款",name:"2"}},[t.data&&t.data.length>0?a("div",{staticStyle:{"margin-top":"10px"}},[t._l(t.data,function(e){return a("div",{key:e.id,staticClass:"orderBody"},[a("div",{staticClass:"orderTop"},[a("p",[t._v("\n            订单号："),a("span",[t._v(t._s(e.orderSn))])]),t._v(" "),a("p",[t._v(t._s(e.createTime))])]),t._v(" "),t._l(e.orderItemList,function(s){return a("div",{key:s.id,staticClass:"orderCenter"},[a("div",{staticClass:"orderimg"},[a("van-image",{attrs:{src:s.productPic?s.productPic:""}})],1),t._v(" "),a("div",{staticClass:"orderfont"},[a("div",{staticClass:"ttop"},[t._v("\n              "+t._s(s.productName)+"\n            ")]),t._v(" "),s.productAttr?a("div",{staticClass:"shopSpecs"},t._l(JSON.parse(s.productAttr||"[]"),function(e,s){return a("div",{key:s},[t._v(t._s(e.value))])}),0):t._e(),t._v(" "),a("div",{staticClass:"bbottom"},[5===e.payType?a("div",{staticClass:"left"},[a("span",[t._v(t._s(s.productPrice)),a("span",{staticStyle:{"font-size":"14px",margin:"0"}},[t._v("积分")])]),t._v("x"+t._s(s.productQuantity)+"\n              ")]):a("div",{staticClass:"left"},[a("span",[t._v("￥"+t._s(s.productPrice))]),t._v("x"+t._s(s.productQuantity)+"\n              ")]),t._v(" "),a("div",{on:{click:function(a){return t.lookOver(e.orderSn,s.id,e.returnApplyList,s.orderId)}}},[t._v("查看详情")])])])])}),t._v(" "),a("div",{staticClass:"orderBottom"},[a("div",{staticClass:"money"},[a("span",[t._v("退款金额￥"+t._s(e.totalAmount))])]),t._v(" "),a("div",{staticClass:"btn"})])],2)}),t._v(" "),a("div",{staticStyle:{height:"10px"}})],2):t._e(),t._v(" "),t.isOk?a("div",[a("van-empty",{staticClass:"custom-image",attrs:{image:"https://img01.yzcdn.cn/vant/custom-empty-image.png",description:"暂无数据"}})],1):t._e(),t._v(" "),t.isOk||0!==t.data.length?t._e():a("van-loading",{attrs:{size:"24px",vertical:"",type:"spinner"}},[t._v("加载中...")])],1),t._v(" "),a("van-tab",{attrs:{title:"换货",name:"3"}},[t.data&&t.data.length>0?a("div",{staticStyle:{"margin-top":"10px"}},[t._l(t.data,function(e){return a("div",{key:e.id,staticClass:"orderBody"},[a("div",{staticClass:"orderTop"},[a("p",[t._v("\n            订单号："),a("span",[t._v(t._s(e.orderSn))])]),t._v(" "),a("p",[t._v(t._s(e.createTime))])]),t._v(" "),t._l(e.orderItemList,function(s){return a("div",{key:s.id,staticClass:"orderCenter"},[a("div",{staticClass:"orderimg"},[a("van-image",{attrs:{src:s.productPic?s.productPic:""}})],1),t._v(" "),a("div",{staticClass:"orderfont"},[a("div",{staticClass:"ttop"},[t._v("\n              "+t._s(s.productName)+"\n            ")]),t._v(" "),s.productAttr?a("div",{staticClass:"shopSpecs"},t._l(JSON.parse(s.productAttr||"[]"),function(e,s){return a("div",{key:s},[t._v(t._s(e.value))])}),0):t._e(),t._v(" "),a("div",{staticClass:"bbottom"},[5===e.payType?a("div",{staticClass:"left"},[a("span",[t._v(t._s(s.productPrice)),a("span",{staticStyle:{"font-size":"14px",margin:"0"}},[t._v("积分")])]),t._v("x"+t._s(s.productQuantity)+"\n              ")]):a("div",{staticClass:"left"},[a("span",[t._v("￥"+t._s(s.productPrice))]),t._v("x"+t._s(s.productQuantity)+"\n              ")]),t._v(" "),a("div",{on:{click:function(a){return t.lookOver(e.orderSn,s.id,e.returnApplyList,s.orderId)}}},[t._v("查看详情")])])])])}),t._v(" "),a("div",{staticClass:"orderBottom"},[a("div",{staticClass:"money"},[a("span",[t._v("订单金额￥"+t._s(e.payAmount))])]),t._v(" "),a("div",{staticClass:"btn"})])],2)}),t._v(" "),a("div",{staticStyle:{height:"10px"}})],2):t._e(),t._v(" "),t.isOk?a("div",[a("van-empty",{staticClass:"custom-image",attrs:{image:"https://img01.yzcdn.cn/vant/custom-empty-image.png",description:"暂无数据"}})],1):t._e(),t._v(" "),t.isOk||0!==t.data.length?t._e():a("van-loading",{attrs:{size:"24px",vertical:"",type:"spinner"}},[t._v("加载中...")])],1)],1),t._v(" "),a("div",{staticClass:"kefu",on:{click:t.toKefu}},[a("img",{attrs:{src:s("Ds3F"),alt:""}}),t._v(" "),a("p",[t._v("客服")])])],1)],1)},staticRenderFns:[]};var n=s("VU/8")(i,r,!1,function(t){s("x8dG")},"data-v-d8ff75dc",null);e.default=n.exports},x8dG:function(t,e){}});
//# sourceMappingURL=18.c1cde862858ca3c257fa.js.map