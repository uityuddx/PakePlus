{"version":3,"sources":["webpack:///src/pages/market/specials/index.vue","webpack:///./src/pages/market/specials/index.vue?7238","webpack:///./src/pages/market/specials/index.vue"],"names":["specials","name","components","Service","service","Header","header","data","newTreeList","productTjList","activeNumXp","loading","finished","newArr","form","pageNum","pageSize","productCategoryId","type","mounted","this","getNewProducts","getProductListTj","$route","query","id","methods","me","market","then","res","code","$notify","message","color","background","catch","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","_res","wrap","_context","prev","next","sent","list","t0","stop","onLoading","concat","length","total","$message","error","finally","discountDetails","arg1","arg2","m","s1","toString","s2","split","e","Number","replace","Math","pow","getProductDetail","$router","push","path","market_specials","render","_vm","_h","$createElement","_c","_self","attrs","_v","directives","rawName","staticStyle","min-height","position","on","click","model","value","callback","$$v","expression","_l","item","key","title","finished-text","load","$event","padding-bottom","border","column-num","gutter","itm","width","staticClass","_s","memberDiscount","_e","src","pic","offlineBuy","font-size","price","__webpack_require__","alt","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/32.0a3fab75049c8024fd31.js","sourcesContent":["<template>\r\n    <div>\r\n        <Header name=\"特价专区\"></Header>\r\n        <div style=\"background: #f6f6f6; min-height: 700px; position: relative;\" v-ban-save>\r\n        <van-tabs v-model=\"activeNumXp\" @click=\"getProductListTj\">\r\n            <van-tab v-for=\"item in newTreeList\" :name=\"item.id\" :title=\"item.name\" :key=\"item.id\">\r\n            <van-list\r\n                v-model=\"loading\"\r\n                v-if=\"productTjList.length > 0\"\r\n                :finished=\"finished\"\r\n                finished-text=\"没有更多了\"\r\n                @load=\"onLoading()\">\r\n                <van-grid :border=\"false\" style=\"padding-bottom: 100px;\" :column-num=\"2\" :gutter=\"10\">\r\n                <van-grid-item v-for=\"itm in productTjList\" :key=\"itm.id\" @click=\"getProductDetail(itm)\" style=\"width: 50%;\">\r\n                    <div v-if=\"itm.memberDiscount\" class=\"allowance\">享{{discountDetails(itm.memberDiscount,10)}}折</div>\r\n                    <van-image :src=\"itm.pic\"/>\r\n                    <div class=\"shopMessage\">\r\n                    <div class=\"shopTitle\">{{itm.name}}</div>\r\n                    <div class=\"shopOther\">\r\n                        <div class=\"tariff\">\r\n                        <span style=\"font-size: 15px;\" v-if=\"itm.offlineBuy === 1\">线下购买</span>\r\n                        <span v-else>￥{{itm.price}}</span>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </van-grid-item>\r\n                </van-grid>\r\n            </van-list>\r\n            <div class=\"empty\" v-else>\r\n                <img :src=\"require('@/assets/image/empty.png')\" alt=\"\">\r\n                <div class=\"emptyFont\">暂无数据</div>\r\n            </div>\r\n            </van-tab>\r\n        </van-tabs>\r\n        <Service></Service>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Service from '@/components/Layout/service/index'\r\nimport Header from '@/components/Layout/header/index'\r\n  import * as api from '@/data/api/market/index'\r\n\r\nexport default {\r\n    name: 'ProductList',\r\n    components :{\r\n        Service,\r\n        Header\r\n    },\r\n    data () {\r\n        return {\r\n            newTreeList : [],\r\n            productTjList:[],\r\n            activeNumXp:0,\r\n            loading: false,\r\n            finished: false,\r\n            newArr:[],\r\n            form: {\r\n                pageNum: 1,\r\n                pageSize: 8,\r\n                productCategoryId: '',\r\n                type: 2\r\n            }\r\n        }\r\n    },\r\n    mounted () {\r\n    this.getNewProducts()\r\n    this.getProductListTj(this.$route.query.id)\r\n    },\r\n    methods: {\r\n    getNewProducts(){\r\n        let me = this\r\n        api.categoryTreeRecommendList().then(res => {\r\n            if (res.code === 200) {\r\n            me.newTreeList = res.data\r\n            } else {\r\n            me.$notify({\r\n                message: res.message,\r\n                color: '#ad0000',\r\n                background: '#ffe1e1',\r\n            })\r\n            }\r\n        }).catch((res) => {\r\n            me.$notify({\r\n            message: res.message,\r\n            color: '#ad0000',\r\n            background: '#ffe1e1',\r\n            })\r\n        })\r\n    },\r\n    async getProductListTj(id){\r\n        let me = this\r\n        me.activeNumXp = id\r\n        me.form.pageNum = 1\r\n        me.form.productCategoryId = id\r\n        me.productTjList = []\r\n        try {\r\n        const res = await api.getSearchHotProduct(me.form);\r\n        if (res.code === 200) {\r\n            me.productTjList = res.data.list\r\n            } else {\r\n            me.$notify({\r\n            message: res.message,\r\n            color: '#ad0000',\r\n            background: '#ffe1e1',\r\n            })\r\n        }\r\n        } catch (error) {\r\n            me.$notify({\r\n            message: res.message,\r\n            color: '#ad0000',\r\n            background: '#ffe1e1',\r\n        })\r\n        }\r\n    },\r\n    onLoading(){\r\n        let me = this\r\n        api.getSearchHotProduct(me.form).then(res => {\r\n            if (res.code === 200) {\r\n                if (res.data.list) {\r\n                    me.form.pageNum++\r\n                    me.newArr = me.newArr.concat(res.data.list)\r\n                    me.productTjList = me.newArr\r\n                    if(me.productTjList.length >= res.data.total){\r\n                        me.loading = true\r\n                        me.finished = true\r\n                    }else{\r\n                        me.loading = false\r\n                    }\r\n                } else {\r\n                me.productTjList = []\r\n                }\r\n            } else {\r\n                me.$message.error(res.message);\r\n            }\r\n        }).catch((res) => {\r\n            me.$message.error(res.message);\r\n        }).finally(() => {})\r\n    },\r\n    discountDetails (arg1, arg2) {\r\n        if (arg1 && arg2) {\r\n        let m = 0,\r\n            s1 = arg1.toString(),\r\n            s2 = arg2.toString();\r\n        try {\r\n            m += s1.split('.')[1].length;\r\n        } catch (e) {}\r\n        try {\r\n            m += s2.split('.')[1].length;\r\n        } catch (e) {}\r\n        return (\r\n            (Number(s1.replace('.', '')) * Number(s2.replace('.', ''))) /\r\n            Math.pow(10, m)\r\n        )\r\n        }\r\n    },\r\n    getProductDetail (data) {\r\n        this.$router.push({\r\n        path:'/market/product',\r\n        query:{'id': data.id}\r\n        })\r\n    },\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/styles/variable.styl';\r\n.empty{\r\n    height:200px\r\n    display: flex\r\n    flex-direction: column\r\n    justify-content: center\r\n    align-items: center\r\n    margin-top: 10px\r\n    border-radius: 10px\r\n    img{\r\n        width:113px;\r\n        height: 83px\r\n    }\r\n    div{\r\n        text-align: center\r\n        margin 0px auto\r\n        font-size: 13px;\r\n        color: #777777;\r\n        line-height: 20px;\r\n    }\r\n}\r\n>>>.van-field__left-icon {\r\n    display: none!important;\r\n}\r\n>>>.van-field__control {\r\n    margin-left: 18px!important;\r\n}\r\n>>>.van-tabs__wrap {\r\n    margin-bottom: 10px;\r\n}\r\n>>>.van-tab--active {\r\n    span {\r\n    color: #000000!important;\r\n    font-weight: bold;\r\n    }\r\n}\r\n>>>.van-tab {\r\n    span {\r\n    color: #777777;\r\n    }\r\n} \r\n>>>.van-tabs__line {\r\n    background-color: #000000;\r\n}\r\n>>>.van-grid-item__content {\r\n    padding: 26px 8px 8px;\r\n}\r\n>>>.van-image {\r\n    height: 150px;\r\n    width: 96%;\r\n    img {\r\n    pointer-events: none;\r\n    }\r\n}\r\n.allowance {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 0px;\r\n    width: 30%;\r\n    height: 23px;\r\n    background: linear-gradient(155deg, #F48D1C 0%, #E6460C 100%);\r\n    border-radius: 0px 0px 0px 18px;\r\n    font-size: 12px;\r\n    color: #fff;\r\n    text-align: center;\r\n    line-height: 23px;\r\n    z-index: 99;\r\n}\r\n.shopMessage {\r\n    width: 100%;\r\n    height: 60px;\r\n    margin-top: 13px;\r\n    .shopTitle {\r\n    width: 100%;\r\n    height: 15px;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #222222;\r\n    line-height: 17px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    }\r\n    .shopOther {\r\n        width: 100%;\r\n        height: 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin: 19px 5.78% 0px 0%;\r\n        font-size: 12px;\r\n    .tariff {\r\n        color: #f44;\r\n        span {\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n        }\r\n    }\r\n    .buyStatus {\r\n        margin-top: 4px;\r\n        height: 12px;\r\n        color: #888;\r\n    }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/market/specials/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header',{attrs:{\"name\":\"特价专区\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"ban-save\",rawName:\"v-ban-save\"}],staticStyle:{\"background\":\"#f6f6f6\",\"min-height\":\"700px\",\"position\":\"relative\"}},[_c('van-tabs',{on:{\"click\":_vm.getProductListTj},model:{value:(_vm.activeNumXp),callback:function ($$v) {_vm.activeNumXp=$$v},expression:\"activeNumXp\"}},_vm._l((_vm.newTreeList),function(item){return _c('van-tab',{key:item.id,attrs:{\"name\":item.id,\"title\":item.name}},[(_vm.productTjList.length > 0)?_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":function($event){return _vm.onLoading()}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-grid',{staticStyle:{\"padding-bottom\":\"100px\"},attrs:{\"border\":false,\"column-num\":2,\"gutter\":10}},_vm._l((_vm.productTjList),function(itm){return _c('van-grid-item',{key:itm.id,staticStyle:{\"width\":\"50%\"},on:{\"click\":function($event){return _vm.getProductDetail(itm)}}},[(itm.memberDiscount)?_c('div',{staticClass:\"allowance\"},[_vm._v(\"享\"+_vm._s(_vm.discountDetails(itm.memberDiscount,10))+\"折\")]):_vm._e(),_vm._v(\" \"),_c('van-image',{attrs:{\"src\":itm.pic}}),_vm._v(\" \"),_c('div',{staticClass:\"shopMessage\"},[_c('div',{staticClass:\"shopTitle\"},[_vm._v(_vm._s(itm.name))]),_vm._v(\" \"),_c('div',{staticClass:\"shopOther\"},[_c('div',{staticClass:\"tariff\"},[(itm.offlineBuy === 1)?_c('span',{staticStyle:{\"font-size\":\"15px\"}},[_vm._v(\"线下购买\")]):_c('span',[_vm._v(\"￥\"+_vm._s(itm.price))])])])])],1)}),1)],1):_c('div',{staticClass:\"empty\"},[_c('img',{attrs:{\"src\":require('@/assets/image/empty.png'),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"emptyFont\"},[_vm._v(\"暂无数据\")])])],1)}),1),_vm._v(\" \"),_c('Service')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-13732e9a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/market/specials/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13732e9a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13732e9a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-13732e9a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/market/specials/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}