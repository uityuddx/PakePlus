webpackJsonp([9],{ICA6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABEBJREFUWEftmF1oHFUYht9vNr8720ZFBd3ZKG3TavHKWkMvxJ8bRS/UiqgUqhBKKi1ikp1FUEpKQejOJhZrq8EqCuJPQasglFqsUsFaa3rRG2lMg8nOCi22Ns3OtGkz88rM/riuSfanyUbEc7EsZ99z3ud835lzvh3BDO1if+Qex3E3C7AGRJiAMpO2kn4BXAhSBI4EAsobzd3J76YbL8WdZK9iJd7pA90XKzGsWivKDjXa0SPS6xbO8Q8wKx7eRuCVnEgEBORXgleqNi8YKJB6gLeSyHuLYJuqp7bMCGYbWjvBIwWD+lRpiot+6sxcQOXmoLH0RouXYgB6vD5v8QJZE9TNo/mA5MXsVezE2z+SWOX3ibIjpCe75hKoeK60EXktt2VEMBiMbrg7l9J8OK1EZCNd983sCkaDAbldus2L8wnGfq3ZdvgziVsysVCeV6PJt/zv3gcTy6+3aJ8EeV1W8LgaTX4+n1C5ua1E5DG67r5MluScKsEVEh363QezDG0PyY7Mb7Jf1c2HawGVhzO0/SQfykRK9qgxc4MUb/iAyDoGMFxLMHHR5rj8oPBBEMvQfiDZXkuQUl4iclTSce9Q//e1QrAJiHyxoIjkowAW+SnNR0wwFNJTKxYSLG2ET4JY/j9YuVn470aMry9rnHQuh5u6xkbKjUY5uquK2KQRuWMK/IrkTRJQOtSe5LvlmJajqRrMg7pC9xCAGzwjRWR7UDdfKse0HE1VYMVQInAAZSvEPT2tKYUKeKppceOgdI6MzxuYFQ+PEmgtx6BQ4y1ARPqaG5q2yAvDk7ONT8e1IYBtFZ1jlqH95u2rSsEK9AdV3XxQRGa8AqsD64/cRYcHQV6TrQIcUNkugrN5c/mrjnddr4LibQDWk6zPjtmo6qmBmRZX1R7zJrOK4aC8qsaSL88WRcsIP0LiS18jcjikm/fOOVgB3AGv2hVF2aRGk7tLpdeKaymCN4sgreop/5KerlUdsdxk3LUydNm+sKRRN0+UguLelQ326PhZEiGBmGrMjMwbWCmY/AIGVtXbF87sJN3OTCZln6qba+ccLJ1ofVboeCYNJeEIIWQpwBYfCphCfV272jV6fE7BuPfJgD36/XkvJSWhigQelEC6gzFz56znWLX1mGWEd4PorOAFy2kBjqFO2ap2J38qtaCr2vzen1Q0Lg6UMoFdR9FPWCV1BYLpwSC/hGKmX9YuVCs6+bVzAK8VyKXg6mWL5P5vpxYCjN/cV2cfG54g2ATIH5I2tK9BPuDDKIHnQtGx9xcCzHvi4Trv+d4ih8ROaGtdl59mYSYAbFZXt31Yq8h5kbIGR9bBdbwn1r8VFEWe8N9dpI3wRyCezkXKSyuFY7WInFBaM+nLNsHHIT31TOZtz8CSFmt80rv1n6oFzCwen6gtjZ1eYfm3V51+WolNAO7MlTfzDipyHsBxRbArGDU/y/n9CeQVTF3UfhbrAAAAAElFTkSuQmCC"},XrpH:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("g3tQ"),o=s("9bgf"),a=s("mtWM"),i=s.n(a),n={components:{Header:o.a},data:function(){return{returnNum:1,isOnline:"1",orderItemIds:0,ttype:Number(this.$route.query.type),otherType:Number(this.$route.query.otherType)?Number(this.$route.query.otherType):null,returnMoney:0,baseUrl:"https://mall.hengleikj.com:8085/minio/upload",form:{pageNum:1,pageSize:50,total:0,status:-1},dataList:[],formDt:{reason:"",orderSn:"",proofPics:[],returnType:this.$route.query.type},imgList:[],checked:!1,orderStatus:0,quantity:0}},filters:{statusFilter:function(t){return 0===t.status?3===t.payType&&t.payVoucher?"待审核":"待付款":1===t.status?"待发货":2===t.status?"待收货":3===t.status?"已完成":4===t.status?"已取消":5===t.status?"无效订单":void 0}},mounted:function(){this.shopdetails()},methods:{loanPay:function(){1!==this.orderStatus?(this.isOnline="2",this.checked=!1):this.$notify({message:"该商品不符合换货要求！",color:"#ad0000",background:"#ffe1e1"})},shopdetails:function(){var t=this;r.x(t.form).then(function(e){200===e.code?e.data.list?e.data.list.forEach(function(e){e.id===Number(t.$route.query.id)&&(t.dataList=[e],t.orderStatus=e.status,e.orderItemList=e.orderItemList.filter(function(e){return e.id===Number(t.$route.query.Fid)}),console.log(e),t.returnMoney=e.orderItemList[0].productPrice*e.orderItemList[0].productQuantity,t.quantity=e.orderItemList[0].productQuantity,t.orderItemIds=e.orderItemList[0].id)}):t.dataList=[]:t.$notify({message:e.message,color:"#ad0000",background:"#ffe1e1"})}).catch(function(e){t.$notify({message:e.message,color:"#ad0000",background:"#ffe1e1"})}).finally(function(){})},onSubmit:function(t,e,s){var o=this;if(this.formDt.reason){var a=+new Date(s)+6048e5,i=+new Date(s)+1296e6,n=+new Date;if(0!==this.orderItemIds?this.formDt={reason:this.formDt.reason,orderSn:t,proofPics:this.formDt.proofPics.join?this.formDt.proofPics.join(","):this.formDt.proofPics,orderItemIds:this.orderItemIds}:this.formDt={reason:this.formDt.reason,orderSn:t,proofPics:this.formDt.proofPics.join?this.formDt.proofPics.join(","):this.formDt.proofPics},"1"===this.isOnline)if(1===this.ttype){if(n>=a)return void this.$notify({message:"7天之后无法申请退货!",color:"#ad0000",background:"#ffe1e1"});r.R(this.formDt).then(function(t){200===t.code?(o.$router.push({path:"/user/myorders",query:{toorders:"-1"}}),o.$notify({message:"申请成功",type:"success"})):o.$notify({message:t.message,color:"#ad0000",background:"#ffe1e1"})}).catch(function(t){o.$notify({message:t.message,color:"#ad0000",background:"#ffe1e1"})}).finally(function(){})}else this.otherType&&(this.formDt.orderItemIds=Number(this.$route.query.Fid)),r.V(this.formDt).then(function(t){200===t.code?(o.$router.push({path:"/user/myorders",query:{toorders:"-1"}}),o.$notify({message:"申请成功",type:"success"})):o.$notify({message:t.message,color:"#ad0000",background:"#ffe1e1"})}).catch(function(t){o.$notify({message:t.message,color:"#ad0000",background:"#ffe1e1"})}).finally(function(){});else{if(n>=i)return void this.$notify({message:"15天之后无法申请换货!",color:"#ad0000",background:"#ffe1e1"});var c={orderSn:this.formDt.orderSn,orderItemId:this.formDt.orderItemIds,quantity:this.returnNum,reason:this.formDt.reason,proofPics:this.formDt.proofPics};r.U(c).then(function(t){200===t.code?(o.$router.push({path:"/user/myorders",query:{toorders:"-1"}}),o.$notify({message:"申请成功",type:"success"})):o.$notify({message:t.message,color:"#ad0000",background:"#ffe1e1"})}).catch(function(t){o.$notify({message:t.message,color:"#ad0000",background:"#ffe1e1"})}).finally(function(){})}}else this.$notify({message:"退款/退货/换货原因不能为空",color:"#ad0000",background:"#ffe1e1"})},deleteRead:function(t){var e=this;e.formDt.proofPics.forEach(function(s,r){s.indexOf(t.file.name)>0&&e.formDt.proofPics.splice(r,1)})},afterRead:function(t){var e=this;t.status="uploading",t.message="上传中...";var s=new FormData;s.append("file",t.file);i.a.create({withCredentials:!0}).post(e.baseUrl,s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(s){200===s.data.code?(t.status="",t.message="",e.formDt.proofPics.push(s.data.data.url)):(t.status="failed",t.message="上传失败",e.$notify({message:s.data.message,color:"#ad0000",background:"#ffe1e1"}))}).catch(function(t){e.$notify({message:t.message,color:"#ad0000",background:"#ffe1e1"})}).finally(function(){})}}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header",{attrs:{name:"申请售后"}}),t._v(" "),r("div",{staticStyle:{background:"#f7f7f7"}},[r("div",{staticStyle:{height:"10px"}}),t._v(" "),t._l(t.dataList,function(e){return r("div",{key:e.id},[1===t.ttype||2===t.ttype?r("div",{staticClass:"orderBody"},[r("div",{staticClass:"orderTop"},[r("p",[t._v("订单号："),r("span",[t._v(t._s(e.orderSn))])]),t._v(" "),r("p",[t._v(t._s(t._f("statusFilter")(e)))])]),t._v(" "),t._l(e.orderItemList,function(e){return r("div",{key:e.id,staticClass:"orderCenter"},[r("div",{staticClass:"orderimg"},[r("van-image",{attrs:{src:e.productPic?e.productPic:""}})],1),t._v(" "),r("div",{staticClass:"orderfont"},[r("div",{staticClass:"ttop"},[t._v("\n            "+t._s(e.productName)+"\n          ")]),t._v(" "),e.productAttr?r("div",{staticClass:"shopSpecs"},t._l(JSON.parse(e.productAttr||"[]"),function(e,s){return r("div",{key:s},[t._v(t._s(e.value))])}),0):t._e(),t._v(" "),r("div",{staticClass:"ccenter"},[t._v(t._s(e.promotionName))]),t._v(" "),r("div",{staticClass:"bbottom"},[r("div",{staticClass:"left"},[t._v("￥"),r("span",[t._v(t._s(e.productPrice))])]),t._v(" "),r("div",[t._v("x"+t._s(e.productQuantity))])])])])})],2):t._e(),t._v(" "),r("van-form",{model:{value:t.formDt,callback:function(e){t.formDt=e},expression:"formDt"}},[r("div",{staticClass:"choice"},[r("p",{staticClass:"title"},[t._v("选择售后类型")]),t._v(" "),r("div",{staticClass:"select"},[r("van-radio-group",{attrs:{disabled:""},model:{value:t.isOnline,callback:function(e){t.isOnline=e},expression:"isOnline"}},[r("van-cell-group",{staticStyle:{margin:"0"},attrs:{border:!1}},[r("van-cell",{staticStyle:{padding:"10px 4.23%"},attrs:{title:"我要退货或退款",icon:s("l9LZ"),label:"已收到货, 需要退还收到的货物"},on:{click:function(e){t.isOnline="1"}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[r("van-radio",{attrs:{name:"1"},scopedSlots:t._u([{key:"icon",fn:function(e){return[r("div",{on:{click:function(e){t.isOnline="1"}}},[r("img",{staticClass:"img-icon",attrs:{src:e.checked?s("b8rV"):s("xLn9")}})])]}}],null,!0)})]},proxy:!0}],null,!0)}),t._v(" "),r("van-cell",{staticStyle:{padding:"10px 4.23%"},attrs:{title:"我要换货",icon:s("ICA6"),label:"已收到货, 需要更换已收到的货物"},on:{click:t.loanPay},scopedSlots:t._u([{key:"right-icon",fn:function(){return[r("van-radio",{attrs:{name:"2"},scopedSlots:t._u([{key:"icon",fn:function(e){return[r("div",{on:{click:t.loanPay}},[r("img",{staticClass:"img-icon",attrs:{src:e.checked?s("b8rV"):s("xLn9")}})])]}}],null,!0)})]},proxy:!0}],null,!0)})],1)],1)],1)]),t._v(" "),r("div",{staticClass:"reason"},["2"===t.isOnline?r("div",{staticClass:"number"},[r("p",[t._v("请选择需要换货的商品数量")]),t._v(" "),r("van-stepper",{attrs:{max:t.quantity,"button-size":"28","input-width":"50px","disable-input":""},model:{value:t.returnNum,callback:function(e){t.returnNum=e},expression:"returnNum"}})],1):t._e(),t._v(" "),r("van-field",{attrs:{rows:"3",autosize:"",label:"退款/退货/换货原因",type:"textarea",placeholder:"请输入您的退款/退货/换货原因"},model:{value:t.formDt.reason,callback:function(e){t.$set(t.formDt,"reason",e)},expression:"formDt.reason"}}),t._v(" "),2!==t.ttype?r("div",[r("p",[t._v("请上传退/换货凭证")]),t._v(" "),r("van-uploader",{attrs:{multiple:"","max-count":5,"after-read":t.afterRead},on:{delete:t.deleteRead},model:{value:t.imgList,callback:function(e){t.imgList=e},expression:"imgList"}})],1):t._e()],1),t._v(" "),r("div",{staticClass:"submitBtn",on:{click:function(s){return t.onSubmit(e.orderSn,t.quantity,e.createTime)}}},[t._v("提交")])])],1)}),t._v(" "),r("div",{staticStyle:{height:"28px"}})],2)],1)},staticRenderFns:[]};var u=s("VU/8")(n,c,!1,function(t){s("kB1U")},"data-v-96dbfe12",null);e.default=u.exports},kB1U:function(t,e){},l9LZ:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=9.d636f51063bf6ee3d42f.js.map